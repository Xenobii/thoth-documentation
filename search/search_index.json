{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"THOTH DOCUMENTATION PORTAL","text":"<p>THOTH is a web app based developed as part of the TEXTaiLES toolbox as a dedicated 3D viewer and annotator.</p> <p>THOTH is based on the ATON Framework, a 3D viewer designed for uses in cultural heritage. Both THOTH and ATON are in turn built on Node.js using Three.js.</p> <p> </p> <p> </p>"},{"location":"api/events/","title":"Events","text":"<p>Local events are activated using the built-in method <code>THOTH.fire()</code>. This method is identical to <code>ATON.fire()</code>, provided by ATON.EventHub. Events in THOTH are built around this method.</p> <p>Syntax:</p> <pre><code>THOTH.fire(\"eventName\", args, onSuccess);\n</code></pre> <p>Photon/VRC events are activated using the built-in method <code>THOTH.firePhoton()</code>. This method is identical to <code>ATON.Photon.fire()</code>, provided by ATON.Photon. Events in THOTH are built around this method.</p> <p>Syntax:</p> <pre><code>THOTH.firePhoton(\"eventName\", args, onSuccess);\n</code></pre>"},{"location":"api/events/#ui","title":"UI","text":"<p>Events called from the front end.</p> Event Description Arguments <code>createLayer</code> Resolves layer id and calls <code>createLayerScene</code> locally and in Photon <code>-</code> <code>deleteLayer</code> Calls <code>deleteLayerScene</code> locally and in Photon <code>layer_id</code> <code>ediMetadata</code> Calls <code>editLayerScene</code> locally and in Photon <code>layer_id</code>, <code>layer_metadata</code> <code>selectBrush</code> Selects the brush tool <code>-</code> <code>selectEraser</code> Selects the eraser tool <code>-</code> <code>selectLasso</code> Selects the lasso tool <code>-</code> <code>selectNone</code> Deselects all tools <code>-</code>"},{"location":"api/events/#scene","title":"Scene","text":"<p>These are events that modify the scene object Scene.currData. Usually called both locally and globally.</p> Event Description Arguments <code>createLayerScene</code> Creates a new layer in scene and its respective UI element <code>layer_id</code> <code>deleteLayerScene</code> Deletes a layer from the scene and its respective UI element <code>layer_id</code> <code>editLayerScene</code> Edits a layer attribute <code>layer_id</code>,<code>attribute</code>,<code>value</code> <code>addToSelectionScene</code> Adds faces to a layer selection <code>layer_id</code>,<code>new_faces</code> <code>delFromSelectionScene</code> Removes faces from a layer selection <code>layer_id</code>,<code>new_faces</code>"},{"location":"api/events/#tools","title":"Tools","text":"<p>Events called from the toolbox.</p> Event Description Arguments <code>useBrush</code> Called to select faces with the brush tool <code>-</code> <code>endBrush</code> Called when brush selection ends to add selected faces to the active layer <code>-</code> <code>useEraser</code> Called to select faces with the eraser tool <code>-</code> <code>endEraser</code> Called when eraser selection ends to remove selected faces from the active layer <code>-</code> <code>startLasso</code> Called to start lasso tool <code>-</code> <code>updateLasso</code> Called to update the lasso during selection <code>-</code> <code>endLassoAdd</code> Called when lasso selection ends to add selected faces to the active layer <code>-</code> <code>endLassoDel</code> Called when lasso selection ends to remove selected faces from the active layer <code>-</code>"},{"location":"api/events/#photon","title":"Photon","text":"<p>Events called to emit to multiple users through Photon.</p> Event Description Arguments <code>suncScene</code> Emits scene state to other users <code>layers</code>"},{"location":"api/rest/","title":"REST API","text":"<p>Within the context of ECCCH, THOTH scenes are manages using the ATON Rest API v2. This allows ATON to integrate with external platforms, services and tools.</p> <p>ATON REST API v2 Documentation</p>"},{"location":"deployment/docker/","title":"Deploy with Docker","text":"<p>The prerequisite to run and deploy ATON + THOTH using Docker is to have Docker installed, and to have downloaded/cloned the THOTH repository locally.</p> <p> </p>"},{"location":"deployment/docker/#build-a-docker-image-of-thoth","title":"Build a Docker image of THOTH","text":"<p>This step allows you to build a docker image which contains ATON + THOTH using the Dockerfile inside the main THOTH folder:</p> <pre><code>sudo docker build -t thoth\n</code></pre> <p>This process creates a docker image named thoth. This will automatically create the image starting from the current location, install ATON and the relevant dependencies and paste the THOTH web app in the appropriate folder.</p>"},{"location":"deployment/docker/#basic-deploy","title":"Basic deploy","text":"<p>Once we built our docker image, we can create and run a new container from thoth image by typing:</p> <pre><code>sudo docker run --rm thoth -dp 8080:8080 thoth\n</code></pre> <p>This will create a container using the image thoth and expose ATON's service in port 8080. Notice that when the container will be stopped, all changes will be lost (e.g. new scenes, new users, etc\u2026), since by default all files created inside a container are stored on a writable container layer. </p> <p>Note that you can modify the Dockerfile according to the needs of your project/service. For instructions on that refer to the respective ATON documentation on Docker deployment</p>"},{"location":"deployment/installation_advanced/","title":"Advanced Installation","text":""},{"location":"deployment/installation_advanced/#advanced-installation","title":"Advanced Installation","text":"<p>In order to install ATON and THOTH using this method, you must first follow the steps shown in the Basic Installation section first.</p> <p> </p> <p>To install PM2 (on any OS) you should just type on command-line:</p> <pre><code>npm install pm2 -g\n</code></pre> <p>On debian-based systems (Linux OS servers) you should use sudo before the command, in order to install PM2 globally.</p> <p>Now, you can simply run and deploy all ATON services by typing (from main folder):</p> <pre><code>pm2 start\n</code></pre> <p>Finally, if you want to stop all services, you can type:</p> <pre><code>pm2 stop all\n</code></pre>"},{"location":"deployment/installation_basic/","title":"Basic Installation","text":""},{"location":"deployment/installation_basic/#basic-installation","title":"Basic Installation","text":""},{"location":"deployment/installation_basic/#step-1","title":"Step 1","text":"<p>The only pre-requisite to run your own instance of ATON on your machine is Node.js. You can install it on Windows, Linux, and Mac OS.</p> <p> </p>"},{"location":"deployment/installation_basic/#step-2","title":"Step 2","text":"<p>Download a copy of ATON framework from GitHub or grab the zip package. If you are not so familiar with git, dont worry: just grab the zip and extract somewhere on your machine. In general however, the best solution is to git clone the repository: this allows you to periodically update your instance without messing with your custom configuration.</p> <p>To clone the repository using the terminal run:</p> <pre><code>git clone https://github.com/phoenixbf/aton.git\n</code></pre> <p> </p>"},{"location":"deployment/installation_basic/#step-3","title":"Step 3","text":"<p>Download a copy of THOTH from Github and place it in the /wapps folder located directly inside the aton folder. Similarly to ATON, either download the zip or clone the repository inside the wapps folder. </p> <pre><code>git clone https://github.com/TEXTaiLES/thoth.git\n</code></pre> <p> </p>"},{"location":"deployment/installation_basic/#step-4","title":"Step 4","text":"<p>Launch setup.bat (Windows) or execute setup.sh (Linux and Mac OS) from the ATON main folder. Alternatively, open your terminal, go to the main ATON folder (<code>cd /your/ATON/folder/</code>) and just type this command:</p> <pre><code>npm install\n</code></pre> <p>This installs and updates all node.js modules required by ATON.</p>"},{"location":"deployment/installation_basic/#step-5","title":"Step 5","text":"<p>Once you have installed all the above prerequisites, you can launch the main ATON service by launching quickstart.bat (Windows) or quickstart.sh (Linux or Mac OS). Alternatively, you can run the following command from your terminal:</p> <pre><code>npm start\n</code></pre> <p>This will run and deploy a basic instance of ATON on your machine.</p> <p>To verify everything runs properly, navigate to http://localhost:8080/ on your web browser. </p>"},{"location":"keybinds/keybinds/","title":"KEYBINDS","text":"<p>This section lists all the keyboard shortcuts provided by THOTH.</p>"},{"location":"keybinds/keybinds/#tools","title":"Tools","text":"Key Event B  Select Brush E  Select Eraser L  Select Lasso [ Decrease tool size ] Increase tool size"},{"location":"keybinds/keybinds/#layers","title":"Layers","text":"Key Event Shift+N Create new layer Shift+S Edit the scene metadata 0,1...,9 Select layer 0,1,...,9 Shift+0,1...,9 Edit metadata for layer 0,1,...,9"},{"location":"keybinds/keybinds/#models","title":"Models","text":"Key Event Shift+A Add new model"},{"location":"keybinds/keybinds/#export","title":"Export","text":"Key Event Shift+E Export changes"},{"location":"keybinds/keybinds/#history","title":"History","text":"Key Event Ctrl+Z  Undo Ctrl+Y  Redo"},{"location":"manual/export/","title":"Exporting changes","text":"<p>A user can save the changes applied to a scene by selecting the export button on the layer or model toolbar or by pressing the shortcut Shift + E. This will save the changes to the scene json located within the appropriate directory.</p> <p>In order to save changes successfuly, you must be logged in as an authenticated administrative user. For demo purposes, the admin user defined by ATON has the following credentials:</p> Username <code>ra</code> Password <code>ra2020</code> <p>Note that exporting is an irreversible action.</p>"},{"location":"manual/history/","title":"History","text":"<p>By using the Undo/Redo commands and the History panel, you can move to previous/next states in your scene.</p> <p> Undo</p> <p>Moves one step back in the undo queue. Press the undo button or use the keyboard shortcut Control + Z. </p> <p> Redo</p> <p>Moves one step forward. Press the redo button or use the keyboard shortcut Control + Y.</p> <p>It's worth noting that history is stored seperately for each user in a collaborative scene. Undo/Redo commands from each user will affect only their actions and not those of other users.</p>"},{"location":"manual/layers/","title":"Layers","text":""},{"location":"manual/layers/#layer-overview","title":"Layer Overview","text":"<p>Each layer can be thought of as a different annotation object, in other words a structured descriptor for a specific selection. Visually, it is represented by the selected faces on the object. As an entity, it can be described by its name and metadata.</p> <p>The user can create new layers, as well as modify and delete existing layers. This can be achieved from the layer panel accessed from the Layers button.</p>"},{"location":"manual/layers/#creating-a-new-layer","title":"Creating a new layer","text":"<p>You can create a new layer by pressing the Create New Layer button in the Layer panel or by pressing Shift + N.</p> <p> </p> <p>This will automatically assign an id to the new layer as well as a default name and color. The user can select the created layer by pressing its name on the layer panel, or by pressing the number button corresponding to its id.</p>"},{"location":"manual/layers/#modifying-a-layer","title":"Modifying a layer","text":"<p>For any layer, the user can directly alter any of its attributes with the corresponding tools and ui elements. Specifically, the attributes a user can modify are:</p> <ul> <li> <p>Color: You can edit the color of a layer from pressing the color selection button on the layer controller.</p> </li> <li> <p>Visibility: You can toggle the visibility of a layer by pressing the visibility icon on the right of the layer controller. </p> </li> <li> <p>Name and metadata: You can edit the name and metadata of a layer using the edit metadata button, or by pressing Shift + the corresponding layer id. For more information in metadata, refer to the metadata section. </p> </li> </ul>"},{"location":"manual/layers/#deleting-layers","title":"Deleting layers","text":"<p>The user can delete a layer by pressing the Delete button on the layer's controller. This action is reversable. </p>"},{"location":"manual/layers/#scene-layer","title":"Scene Layer","text":"<p>The scene layer is a special layer which corresponds to the entire scene. Unlike other layers, the only attribute you can alter is the scene metadata. You can do that by pressing the edit scene metadata button or using the shortcut Shift + S.</p>"},{"location":"manual/metadata/","title":"Metadata","text":"<p>The scene layer, as well as any created layer in a scene, is paired with a set of metadata. This metadata is meant to describe the scene, along with any models inside it or the selections of each layer respectively.</p> <p> </p> <p>You can edit the metadata of the scene layer or any other layer using the edit metadata buttons on the scene/layer controller from the Layer Panel. You can also open the metadata editor using the shortcuts Shift + S or Shift + {layer id} respectively.</p>"},{"location":"manual/metadata/#schema-selection","title":"Schema selection","text":"<p>Any of this metadata is formed according to a selected metadata schema which the user can choose when filling the metadata for any layer. The schema must follow a set of specifications as to how it's structured. Default demo schemas <code>annotation_schema.json</code> and <code>test_schema.json</code> come with the default THOTH installation.</p>"},{"location":"manual/metadata/#attributes","title":"Attributes","text":"<p>Once you have selected a valid schema, you can edit any of the attributes generated according to the schema. Once you have set the desired values, save the changes to the metadata by pressing the save changes button. </p>"},{"location":"manual/metadata/#inheritting-from-the-scene-layer","title":"Inheritting from the scene layer","text":"<p>You can inherit the metadata schema and values assigned to the scene layers to any selected layer by pressing the respective inherit metadata button inside the metadata editor.</p>"},{"location":"manual/models/","title":"Models","text":""},{"location":"manual/models/#model-overview","title":"Model overview","text":"<p>The models panel is the main control point for importing, deleting and managing models. On a technical level, this corresponds the nodes attached to the root scene.</p>"},{"location":"manual/models/#adding-models-to-the-scene","title":"Adding models to the scene","text":"<p>You can add new models in the scene by selecting the Add model button in the models panel, or by pressing Shift + A. </p> <p> </p> <p>Models are, by default retrieved from the local ATON directory and must follow the specifications defined by ATON.</p>"},{"location":"manual/models/#managing-imported-models","title":"Managing imported models","text":"<p>Once a model is properly imported to your scene, you can manage the following attributes.</p> <ul> <li> <p>Visibility: You can toggle the visibility of a model using the visibility icon on the left of the model controller.</p> </li> <li> <p>Transforms: You can modify the position and rotation of a selected object with the respective controls on any 3D axis.</p> </li> </ul> <p>Additionally, you can focus on a specific model by using the focus button for a selected layer. You can also view the meshes attached to each model.</p> <p>The viewpoints functionalities are a work in progress.</p>"},{"location":"manual/models/#deleting-models","title":"Deleting models","text":"<p>The user can delete a model by pressing the Delete button on the models's controller. This action is reversable. </p>"},{"location":"manual/scene_layer/","title":"Layers","text":""},{"location":"manual/scene_layer/#scene-layer-overview","title":"Scene Layer Overview","text":"<p>The scene layer is a special layer which corresponds to the entire scene. Unlike other layers, the only attribute you can alter is the scene metadata. You can do that by pressing the edit scene metadata button or using the shortcut Shift + S.</p>"},{"location":"manual/tools/","title":"Tools","text":""},{"location":"manual/tools/#selecting-a-tool","title":"Selecting a tool","text":"<p>To select a tool, do one of the following: </p> <ul> <li> <p>Click a tool in the Tool panel.</p> </li> <li> <p>Press the tools's keyboard shortcut. The keyboard shortcut is displayed in its tool tip. More information on tooltips can be found under the keybinds section.</p> </li> </ul> <p>Each tool also has additional adjustable options that can alter its usage, such as size and normal thresholds.</p>"},{"location":"manual/tools/#tools","title":"Tools","text":""},{"location":"manual/tools/#brush-b","title":"Brush (B)","text":"<p>Allows the user to paint directly onto 3D surfaces within the scene by holding down.</p> <p>Options</p> <ul> <li>Size: Adjusts the size of the selection.</li> </ul>"},{"location":"manual/tools/#eraser-e","title":"Eraser (E)","text":"<p>Allows the user to erase directly from 3D surfaces within the scene.</p> <p>Options</p> <ul> <li>Size: Adjusts the size of the selection.</li> </ul>"},{"location":"manual/tools/#lasso-l","title":"Lasso (L)","text":"<p>Allows the user to form a free-hand selection onto the screen, from which a selection will be formed on the object.</p> <p>Options</p> <ul> <li>Resolution: Adjust the level of detail of the lasso selection.</li> <li>Select occluded faces: Enables selection of obstructed faces</li> <li>Normal threshold: Adjusts the tolerance of the lasso tool. The higher the threshold the lower the tolerance.</li> </ul>"},{"location":"manual/tools/#no-tool-n","title":"No Tool (N)","text":"<p>This option unselects all tools, allowing for easier scene navigation.</p>"},{"location":"manual/tools/#additivesubtractive-mode","title":"Additive/Subtractive mode","text":"<p>Each tool has a default functionality to either add or remove faces from a selection (e.g, the brush adds faces to a selection). This functionallity is used when the tool is used with the left mouse button.</p> <p>When a tool is used with the right mouse button, any faces that would be added to the selection would instead be removed.</p>"},{"location":"manual/tools/#navigation","title":"Navigation","text":"<p>While any tool (except the no tool option) is selected, normal navigation is disabled. However, you can navigate the scene with a tool selected if you hold down the spacebar button. Selecting the no tool tool will unselect a tool and enable navigation.</p>"},{"location":"manual/ui/","title":"User Interface","text":"<p>The THOTH UI is the main entry point for users to interact with the web app. </p>"},{"location":"manual/ui/#top-toolbar","title":"Top Toolbar","text":"<p>Through the top toolbar a user can open up panels for various ATON and THOTH utilities.</p> <p> Settings</p> <p>The settings panel allows for general utility changes, like changing the UI theme and viewpoint visualization.</p> <p> Layers</p> <p>Through the layer panel you can access the scene layer and other layer controllers. This way you can edit both the metadata and the visual details of each annotation layer. For more information on layers, refer to the layers section and the scene layer section.</p> <p> Models</p> <p>Through the model panel you can access each scene model controller. This way you can apply transformations and access other utilities regarding the scene models. For more information on layers, refer to the models section</p> <p> Export</p> <p>The export button exports any changes done to the scene directly to the scene descriptor. For more information on exporting, refer to the export section.</p>"},{"location":"manual/ui/#main-tools","title":"Main Tools","text":"<p>The main toolbar contains tools for annotation purposes and history navigation. These include:</p> <p> Brush</p> <p> Eraser</p> <p> Lasso</p> <p> Undo</p> <p> Redo</p> <p>For more information on the tools and history, refer to the tools and history sections respectively.</p>"},{"location":"manual/viewpoint/","title":"Viewpoints","text":"<p>THOTH allows you to view the source images from which the 3D object was reconstructed. </p> <p>To view a source image, click on one of the viewpoint spheres in the scene. This will open up a card containing information about the viewpoint (position, target, image). You can then view the image for higher-resolution viewing and downloading.</p> <p>You can hide the viewpoint spheres from the Viewpoint tab in the settings menu.</p> <p>The displayed viewpoints are selected from the COLMAP metadata</p> <p>For the time being, both the viewpoints and images are completely artificial for demo purposes and irrelevant to the COLMAP of the object.</p>"},{"location":"scene/collab/","title":"Collaborative","text":"<p>THOTH takes after ATON in that it allows for multi-user collaborative sessions in a single scene. In addition to ATON's interactive viewing, THOTH allows for users to view changes made to layers and models inside a scene in real-time. </p> <p> </p>"},{"location":"scene/collab/#collaborative-scenes","title":"Collaborative scenes","text":"<p>For project-specific implementation purposes, defining a scene as collaborative is achieved through specifically alterring the scene's json object with the following field:</p> <pre><code>\"collaborative\": true\n</code></pre> <p>Any scene with this attribute will automatically enable Photon, ATON's collaborative service, uppon successfully logging in a loaded scene. This is done to prevent conflicts between edits performed by multiple users in a given scene. </p> <p>Excluding that line from the scene object will simply launch the scene in a non-collaborative (singleplayer) environment.</p>"},{"location":"scene/login/","title":"Logging in","text":"<p>Once inside a THOTH scene, you will be prompted to log in. Logging in will unlock THOTH's editing functionalities: </p> <ul> <li>Toolbox</li> <li>Layer management</li> <li>Model management</li> <li>Collaborative sessions</li> <li>Exporting</li> </ul> <p>The recommended default admin user provided by ATON has the following credentials:</p> Username <code>ra</code> Password <code>ra2020</code> <p>Note that you can still view models without logging in in view only mode, without being able to alter any of the scene components.</p>"},{"location":"scene/open_scene/","title":"Opening a scene with THOTH","text":"<p>To open a scene using the THOTH web app, open the following url on your web browser.</p> <pre><code>{base_url}/a/thoth/?s={scene_url}\n</code></pre> <p>where <code>base_url</code> is the base thoth uri and <code>scene_url</code> the uri of the scene. The default <code>base url</code> is <code>http://localhost:8080</code>. The <code>scene-uri</code> includes the user path. For  example, a scene id We use for testing is <code>http://localhost:8080/a/thoth/?s=samples/venus</code></p> <p>On success, this is what a loaded page should look like this:</p> <p> </p> <p>You can create a scene from the ATON front end (shu) or through a post request through the ATON REST API.</p>"}]}